# 快速上手

本指南将帮助你在3分钟内快速启动并体验 Scintirete。

## 🚀 快速启动

### 方式一：使用 Docker（推荐）

最简单的启动方式是使用预构建的 Docker 镜像：

```bash
# 拉取最新镜像（支持多架构，包含树莓派）
docker pull ghcr.io/scintirete/scintirete:latest

wget https://raw.githubusercontent.com/Scintirete/Scintirete/refs/heads/main/configs/scintirete.template.toml -O scintirete.toml

# 启动服务
docker run -d \
  --name scintirete \
  -p 8080:8080 \
  -p 9090:9090 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/scintirete.toml:/app/configs/scintirete.toml \
  ghcr.io/scintirete/scintirete:latest
```

### 方式二：使用 Docker Compose

如果你需要完整的监控栈（可选 Prometheus 和 Grafana）：

```bash
# 下载项目
git clone https://github.com/scintirete/scintirete.git
cd scintirete
cp configs/scintirete.template.toml configs/scintirete.toml

# 启动全套服务
docker-compose up -d
```

服务启动后：
- **HTTP API**: http://localhost:8080
- **gRPC 服务**: localhost:9090
- **Prometheus**: http://localhost:9091 (可选)
- **Grafana**: http://localhost:3000 (可选)

### 方式三：使用预编译二进制

从 [Releases 页面](https://github.com/scintirete/scintirete/releases) 下载适合你操作系统的二进制文件：

```bash
# 下载并解压（以 Linux amd64 为例）
wget https://github.com/scintirete/scintirete/releases/latest/download/scintirete-linux-amd64.tar.gz
wget https://raw.githubusercontent.com/Scintirete/Scintirete/refs/heads/main/configs/scintirete.template.toml -O scintirete.toml
tar -xzf scintirete-linux-amd64.tar.gz
cd scintirete-linux-amd64

# 启动服务器
./scintirete-server -c scintirete.toml
```

> 配置示例：[scintirete.toml](https://github.com/Scintirete/Scintirete/blob/refs/heads/main/configs/scintirete.template.toml)，配置中有完整注释，需要注意的配置有 passwords 字段和 embedding 字段，password 字段用于设置密码，embedding 字段用于设置向量引擎。

## 📊 管理界面

访问 Web 管理界面：

**云端地址**: [https://dms.scintirete.top/](https://dms.scintirete.top/)

> 注：使用客户端直连模式可适用于本地网络可连接到的 Scintirete 服务，服务器转发模式适用于生产内网环境，出于安全考虑，云端地址不开放服务器转发模式。

在管理界面，你可以：
- 可视化管理本地或远程的 Scintirete 服务
- 插入向量数据
- 搜索向量数据

详细文档：[ManagerUI 使用指南](使用指南/5_ManagerUI_使用指南.md)

## 📈 监控和指标

如果使用 Docker Compose 启动，可以访问：

- **Grafana 监控面板**: http://localhost:3000 (admin/admin) (可选)
- **Prometheus 指标**: http://localhost:9091 (可选)
- **服务指标接口**: http://localhost:8080/metrics

## 🎯 第一次体验

### 1. 验证服务状态

```bash
curl http://localhost:8080/api/v1/health
```

预期响应：
```json
{
  "status": "healthy",
  "service": "scintirete",
  "version": "1.0.0"
}
```

### 2. 创建数据库和集合

```bash
# 创建数据库
curl -X POST http://localhost:8080/api/v1/databases \
  -H "Content-Type: application/json" \
  -d '{"name": "demo_db"}'

# 创建集合（使用余弦相似度）
curl -X POST http://localhost:8080/api/v1/databases/demo_db/collections \
  -H "Content-Type: application/json" \
  -d '{
    "name": "documents",
    "distance_metric": "cosine"
  }'
```

### 3. 插入向量数据

```bash
# 插入一些示例向量
curl -X POST http://localhost:8080/api/v1/databases/demo_db/collections/documents/vectors \
  -H "Content-Type: application/json" \
  -d '{
    "vectors": [
      {
        "data": [0.1, 0.2, 0.3, 0.4],
        "metadata": {"text": "第一个文档", "category": "技术"}
      },
      {
        "data": [0.2, 0.3, 0.4, 0.5],
        "metadata": {"text": "第二个文档", "category": "科学"}
      },
      {
        "data": [0.9, 0.8, 0.7, 0.6],
        "metadata": {"text": "第三个文档", "category": "艺术"}
      }
    ]
  }'
```

### 4. 搜索相似向量

```bash
# 搜索最相似的2个向量
curl -X POST http://localhost:8080/api/v1/databases/demo_db/collections/documents/search \
  -H "Content-Type: application/json" \
  -d '{
    "query_vector": [0.15, 0.25, 0.35, 0.45],
    "limit": 2
  }'
```

预期响应：
```json
{
  "success": true,
  "data": {
    "results": [
      {
        "id": 2,
        "score": 0.9998,
        "metadata": {"text": "第二个文档", "category": "科学"}
      },
      {
        "id": 1,
        "score": 0.9995,
        "metadata": {"text": "第一个文档", "category": "技术"}
      }
    ]
  }
}
```

## 🎉 体验文本向量化（可选）

如果你有 OpenAI API Key，可以体验自动文本向量化：

### 1. 配置 API Key

修改配置文件或设置环境变量：

```bash
export OPENAI_API_KEY="your-api-key-here"
```

或编辑配置文件 `configs/scintirete.toml`：

```toml
[embedding]
provider = "openai"
api_key = "your-api-key-here"
base_url = "https://api.openai.com/v1"
model = "text-embedding-ada-002"
```

### 2. 直接插入文本

```bash
# 自动将文本转换为向量并插入
curl -X POST http://localhost:8080/api/v1/databases/demo_db/collections/documents/texts \
  -H "Content-Type: application/json" \
  -d '{
    "texts": [
      {
        "content": "人工智能正在改变世界",
        "metadata": {"source": "news", "topic": "AI"}
      },
      {
        "content": "机器学习是AI的核心技术",
        "metadata": {"source": "book", "topic": "ML"}
      }
    ]
  }'
```

### 3. 文本语义搜索

```bash
# 使用自然语言搜索
curl -X POST http://localhost:8080/api/v1/databases/demo_db/collections/documents/search-text \
  -H "Content-Type: application/json" \
  -d '{
    "query_text": "AI技术发展",
    "limit": 5
  }'
```

## 🔧 使用命令行工具

Scintirete 还提供了强大的命令行工具：

```bash
# 使用 CLI 连接到服务器
./scintirete-cli --server localhost:9090

# 在交互模式中执行命令
> list databases
> use demo_db
> list collections
> describe documents
```

## 🔄 下一步

完成快速体验后，建议你：

1. 阅读 [系统要求](2_系统要求.md) 了解生产环境部署需求
2. 查看 [HTTP API 文档](使用指南/1_HTTP_API_接口文档.md) 了解完整的API
3. 学习 [HNSW 超参数调整](使用指南/3_HNSW_超参数调整.md) 优化性能
4. 使用 [ManagerUI](使用指南/5_ManagerUI_使用指南.md) 进行可视化管理

## 💡 常见问题

**Q: 为什么我的向量搜索结果不准确？**
A: 确保使用一致的距离度量和向量维度。余弦相似度适合大多数文本向量，欧氏距离适合图像特征向量。

**Q: 如何提高搜索性能？**
A: 调整 HNSW 超参数 `efConstruction` 和 `maxConnections`。更高的值提供更好的精度但消耗更多内存。

**Q: 服务重启后数据还在吗？**
A: 是的，Scintirete 使用 AOF + RDB 持久化机制，确保数据安全。

**Q: 可以在生产环境中使用吗？**
A: Scintirete 专为生产环境设计，提供完整的监控、日志和错误处理，但目前处于快速开发阶段，请注意版本兼容性。